import{a as K,c as W,d as X,e as Y,f as I}from"./chunk-GKNBFJRL.js";import{a as q,c as Q,d as R,f as P,h as $,i as B,j as G,o as U,r as z,t as H}from"./chunk-Q73L2NTX.js";import{Ba as E,Ca as V,Da as M,Ea as F,Fa as m,Ga as A,Ia as N,Jb as j,Ma as k,Na as L,Ob as J,S as w,Va as D,Wa as T,X as b,Xa as O,Y as x,aa as c,ba as l,ka as a,la as S,qa as _,qb as y,sa as f,ua as o,va as r,wa as g,xa as h,ya as u,za as v}from"./chunk-BKH2LAIR.js";var C=class{constructor(t,p){this.name=t,this.amount=p}};var st=["f"];function pt(n,t){if(n&1){let p=h();o(0,"button",13),u("click",function(){c(p);let e=v();return l(e.onDelete())}),m(1,"Delete"),r()}}var tt=(()=>{let t=class t{constructor(i){this.store=i,this.editMode=!1}ngOnInit(){this.subscription=this.store.select("shoppingList").subscribe(i=>{i.editedIngridentIndex>-1?(this.editMode=!0,this.editedItem=i.editedIngrident,this.slForm.setValue({name:this.editedItem.name,amount:this.editedItem.amount})):this.editMode=!1})}onSubmit(){let i=this.slForm.value,e=new C(i.name,i.amount);this.editMode?this.store.dispatch(W({ingredient:e})):this.store.dispatch(K({ingredient:e})),this.onClear()}onDelete(){this.store.dispatch(X()),this.onClear()}onClear(){this.slForm.reset(),this.editMode=!1,this.store.dispatch(I())}ngOnDestroy(){this.subscription.unsubscribe(),this.store.dispatch(I())}};t.\u0275fac=function(e){return new(e||t)(S(y))},t.\u0275cmp=b({type:t,selectors:[["app-shopping-edit"]],viewQuery:function(e,s){if(e&1&&E(st,5),e&2){let d;V(d=M())&&(s.slForm=d.first)}},decls:20,vars:3,consts:[["f","ngForm"],[1,"row"],[1,"col-xs-12"],[3,"ngSubmit"],[1,"col-sm-5","form-group"],["for","name"],["type","text","id","name","name","name","ngModel","","required","",1,"form-control"],[1,"col-sm-2","form-group"],["for","amount"],["type","number","id","amount","name","amount","ngModel","","required","","pattern","^[1-9]+[0-9]*$",1,"form-control"],["type","submit",1,"btn","btn-success",3,"disabled"],["class","btn btn-danger","type","button",3,"click",4,"ngIf"],["type","button",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(e,s){if(e&1){let d=h();o(0,"div",1)(1,"div",2)(2,"form",3,0),u("ngSubmit",function(){return c(d),l(s.onSubmit())}),o(4,"div",1)(5,"div",4)(6,"label",5),m(7,"Name"),r(),g(8,"input",6),r(),o(9,"div",7)(10,"label",8),m(11,"Amount"),r(),g(12,"input",9),r()(),o(13,"div",1)(14,"div",2)(15,"button",10),m(16),r(),_(17,pt,2,0,"button",11),o(18,"button",12),u("click",function(){return c(d),l(s.onClear())}),m(19,"Clear"),r()()()()()()}if(e&2){let d=F(3);a(15),f("disabled",!d.valid),a(),A(s.editMode?"Update":"Add"),a(),f("ngIf",s.editMode)}},dependencies:[T,B,q,G,Q,R,U,z,$,P]});let n=t;return n})();function dt(n,t){if(n&1){let p=h();o(0,"a",4),u("click",function(){let e=c(p).index,s=v();return l(s.onEditItem(e))}),m(1),r()}if(n&2){let p=t.$implicit;a(),N(" ",p.name," (",p.amount,") ")}}var et=(()=>{let t=class t{constructor(i){this.store=i}ngOnInit(){this.ingredients=this.store.select("shoppingList")}ngOnDestroy(){}onEditItem(i){this.store.dispatch(Y({index:i}))}};t.\u0275fac=function(e){return new(e||t)(S(y))},t.\u0275cmp=b({type:t,selectors:[["app-shopping-list"]],decls:7,vars:3,consts:[[1,"row"],[1,"col-xs-10"],[1,"list-group"],["class","list-group-item","style","cursor: pointer",3,"click",4,"ngFor","ngForOf"],[1,"list-group-item",2,"cursor","pointer",3,"click"]],template:function(e,s){e&1&&(o(0,"div",0)(1,"div",1),g(2,"app-shopping-edit")(3,"hr"),o(4,"ul",2),_(5,dt,2,2,"a",3),k(6,"async"),r()()()),e&2&&(a(5),f("ngForOf",L(6,1,s.ingredients).ingredients))},dependencies:[D,tt,O]});let n=t;return n})();var vt=(()=>{let t=class t{};t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=x({type:t}),t.\u0275inj=w({imports:[J,H,j.forChild([{path:"",component:et}])]});let n=t;return n})();export{vt as ShoppingListModule};
